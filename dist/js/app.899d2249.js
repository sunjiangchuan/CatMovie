(function(e){function t(t){for(var a,r,c=t[0],s=t[1],u=t[2],l=0,f=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-1c4e04cb":"d489f1bb","chunk-2d0c15bb":"85a76bc2","chunk-2d0d7a1b":"897da399","chunk-2d210058":"38ab26b8","chunk-43403fef":"b1b95367","chunk-4bae496d":"28ec0b0c","chunk-f2a27302":"a882e304"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-1c4e04cb":1,"chunk-43403fef":1,"chunk-4bae496d":1,"chunk-f2a27302":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-1c4e04cb":"2e3af5d6","chunk-2d0c15bb":"31d6cfe0","chunk-2d0d7a1b":"31d6cfe0","chunk-2d210058":"31d6cfe0","chunk-43403fef":"7d4ef941","chunk-4bae496d":"380351eb","chunk-f2a27302":"e5cf1c4f"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],d.parentNode.removeChild(d),n(i)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",f.name="ChunkLoadError",f.type=a,f.request=r,n[1](f)}o[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="CatMovie/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"05bf":function(e,t,n){"use strict";n("137d")},"137d":function(e,t,n){},"1e85":function(e,t,n){"use strict";n("6183")},"48ba":function(e,t,n){"use strict";n("a2ec")},"504b":function(e,t,n){"use strict";n("5ed5")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4de4"),n("ac1f"),n("5319");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1),this.$route.meta.tabBarFlag?n("Tabbar"):e._e()],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"footer"}},[n("ul",e._l(e.tabbar,(function(t,a){return n("router-link",{attrs:{tag:"li",to:t.path}},[n("i",{staticClass:"iconfont",domProps:{innerHTML:e._s(t.icon)}}),n("span",[e._v(e._s(t.title))])])})),1)])},c=[],s={name:"tabbar",data:function(){return{tabbar:[{title:"电影",path:"/movie",icon:"&#xe717;"},{title:"影院",path:"/cinema",icon:"&#xe60e;"},{title:"我的",path:"/mine",icon:"&#xe678;"}]}}},u=s,l=(n("504b"),n("2877")),f=Object(l["a"])(u,i,c,!1,null,"abb2f23c",null),d=f.exports,p={name:"app",components:{Tabbar:d}},m=p,h=(n("034f"),Object(l["a"])(m,r,o,!1,null,null,null)),b=h.exports,g=n("8c4f"),v=(n("d3b7"),n("3ca3"),n("ddb0"),{name:"movie",path:"/movie",component:function(){return n.e("chunk-1c4e04cb").then(n.bind(null,"5b98"))},children:[{name:"being",path:"being",component:function(){return n.e("chunk-43403fef").then(n.bind(null,"fc3f"))},meta:{tabBarFlag:!0}},{name:"soon",path:"soon",component:function(){return n.e("chunk-f2a27302").then(n.bind(null,"22d4"))},meta:{tabBarFlag:!0}},{path:"/movie",redirect:"being"}]}),y={name:"cinema",path:"/cinema",component:function(){return n.e("chunk-2d0d7a1b").then(n.bind(null,"7848"))},meta:{tabBarFlag:!0}},w={name:"mine",path:"/mine",component:function(){return n.e("chunk-2d210058").then(n.bind(null,"b5b1"))},meta:{tabBarFlag:!1}},C={name:"search",path:"/search",component:function(){return n.e("chunk-2d0c15bb").then(n.bind(null,"4669"))},meta:{tabBarFlag:!1}},k={name:"city",path:"/city",component:function(){return n.e("chunk-4bae496d").then(n.bind(null,"8398"))},meta:{tabBarFlag:!1}};a["default"].use(g["a"]);var O=[{path:"/",redirect:"/movie"},v,y,w,C,k,{path:"**",redirect:"/movie"}],x=new g["a"]({routes:O,mode:"history"}),M=x,_=n("2f62"),S=n("1da1"),N=n("2909"),j=(n("96cf"),n("99af"),n("5530")),L=n("bc3a"),I=n.n(L),B=I.a.create({timeout:5e3,withCredentials:!0});B.interceptors.request.use((function(e){return"post"==e.method?e.data=e.data:"get"==e.method&&(e.data?e.params=Object(j["a"])({},e.data):e.params=Object(j["a"])({},e.params)),e}),(function(e){Promise.reject(e)})),B.interceptors.response.use((function(e){if("OK"===e.statusText)return e.data}),(function(e){Promise.reject(e)}));var E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"psot"==e?B.post(t,n):"get"==e?B.get(t,{params:n}):void 0},$=function(){return E("get","http://localhost:3000/movieList")},T=function(){return E("get"," http://localhost:3000/letterMap")};n("d81d");function P(e){return e.map((function(e){e.img=e.img})),e}var A={toImg:P},H={state:{NowMovieList:JSON.parse(window.sessionStorage.getItem("MovieList"))||[]},mutations:{getMutationsNowMovie:function(e,t){e.NowMovieList=t},getMutationMoreMovie:function(e,t){e.NowMovieList=[].concat(Object(N["a"])(e.NowMovieList),Object(N["a"])(t))}},actions:{getActionsNowMovie:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,$(t);case 3:r=n.sent,a("getMutationsNowMovie",A.toImg(r)),window.sessionStorage.setItem("MovieList",JSON.stringify(A.toImg(r)));case 6:case"end":return n.stop()}}),n)})))()},getActionMoreMovie:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,$();case 3:a=t.sent,n("getMutationMoreMovie",A.toImg(a));case 5:case"end":return t.stop()}}),t)})))()}},namespaced:!0},J=(n("fb6a"),n("4e82"),{state:{HotCity:JSON.parse(window.sessionStorage.getItem("HotCity"))||[],CityList:JSON.parse(window.sessionStorage.getItem("CityList"))||[],CityName:window.sessionStorage.getItem("CityName")||"上海",CityId:window.sessionStorage.getItem("CityId")||10},mutations:{handleMutationsCitySide:function(e,t){e.CityName=t.nm,e.CityId=t.id,window.sessionStorage.setItem("CityName",e.CityName),window.sessionStorage.setItem("CityId",e.CityId)},getMutationsCityList:function(e,t){e.HotCity=t.HotCity,e.CityList=t.CityList,window.sessionStorage.setItem("HotCity",JSON.stringify(t.HotCity)),window.sessionStorage.setItem("CityList",JSON.stringify(t.CityList))}},actions:{handleActionsCitySide:function(e,t){var n=e.commit;n("handleMutationsCitySide",t)},getActionsCityList:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,i,c,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=function(e){for(var t=0;t<o.length;t++)if(e==o[t].index)return!0;return!1},n=e.commit,t.next=4,T();case 4:for(i in a=t.sent,r=[],o=[],a)a[i].id<=52&&r.push(a[i]);t.t0=regeneratorRuntime.keys(a);case 9:if((t.t1=t.t0()).done){t.next=26;break}if(i=t.t1.value,c=a[i].py.slice(0,1).toUpperCase(),!u(c)){t.next=23;break}s=0;case 14:if(!(s<o.length)){t.next=21;break}if(o[s].index!=c){t.next=18;break}return o[s].list.push(a[i]),t.abrupt("break",21);case 18:s++,t.next=14;break;case 21:t.next=24;break;case 23:o.push({index:c,list:[a[i]]});case 24:t.next=9;break;case 26:o.sort((function(e,t){return e.index>t.index?1:-1})),n("getMutationsCityList",{HotCity:r,CityList:o});case 28:case"end":return t.stop()}}),t)})))()}},namespaced:!0}),K={state:{banners:[]},mutations:{getMutationsSonnMovie:function(e,t){e.banners=t,window.sessionStorage.setItem("SoonImg",JSON.stringify(t))}},actions:{getActionsSonnMovie:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,$();case 3:a=t.sent,n("getMutationsSonnMovie",a);case 5:case"end":return t.stop()}}),t)})))()}},namespaced:!0},R={state:{},mutations:{},actions:{},namespaced:!0};a["default"].use(_["a"]);var F=new _["a"].Store({state:{},mutations:{},actions:{},modules:{Movie:H,City:J,Soon:K,Mine:R}}),U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"header"}},[e._t("default"),n("h2",[e._v(e._s(e.title))])],2)},q=[],z={name:"Header",props:{title:{type:String,default:"猫眼电影"}}},D=z,V=(n("05bf"),Object(l["a"])(D,U,q,!1,null,"3f54ff12",null)),G=V.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"wrapper"},[e._t("default")],2)},W=[],X=n("f40f"),Y={name:"wrapper",mounted:function(){this.scroll=new X["a"](this.$refs.wrapper,{tap:!0,pullUpLoad:!0})},methods:{handleTo:function(e){this.scroll.scrollTo(0,-e)},handleHot:function(e){this.scroll.scrollTo(0,e)},getBeingMore:function(){var e=this;this.scroll.on("pullingUp",(function(){e.$store.dispatch("Movie/getActionsNowMovie"),e.$store.dispatch("Movie/getActionMoreMovie")}))},updata:function(){this.scroll.finishPullUp()},getih:function(){this.scroll.refresh()}}},Z=Y,ee=(n("48ba"),Object(l["a"])(Z,Q,W,!1,null,null,null)),te=ee.exports,ne=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ae=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"load1"},[n("div",{staticClass:"rect1"}),n("div",{staticClass:"rect2"}),n("div",{staticClass:"rect3"}),n("div",{staticClass:"rect4"}),n("div",{staticClass:"rect5"})])}],re=(n("1e85"),{}),oe=Object(l["a"])(re,ne,ae,!1,null,"1f88b081",null),ie=oe.exports,ce=n("caf9"),se=n("76a0"),ue=n.n(se),le=(n("aa35"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"soonButton",style:{background:e.type,transform:e.size,color:e.color}},[e._t("default"),e._v(" "+e._s(e.text)+" ")],2)}),fe=[],de={name:"soonButton",props:{text:{default:"按钮",type:String},size:{default:"small",type:String},type:{default:"#c33",type:String},color:{default:"#3c5",type:String}}},pe=de,me=(n("ccb7"),Object(l["a"])(pe,le,fe,!1,null,"6a172215",null)),he=me.exports;he.install=function(e){e.component(he.name,he)};var be=he,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"messageBox"},[n("h2",[e._v(e._s(e.text))]),n("p",[e._v(e._s(e.content))]),e.flag?n("div",{staticClass:"messageBoxBtn"},[n("div",{on:{click:e.handleMessageOK}},[e._v(e._s(e.OK))]),n("div",{on:{click:e.handleMessageNO}},[e._v(e._s(e.NO))])]):e._e()])},ve=[],ye={name:"messageBox"},we=ye,Ce=(n("8cb1"),Object(l["a"])(we,ge,ve,!1,null,"158c539c",null)),ke=Ce.exports,Oe=function(){var e={text:"",content:"",flag:!1,OK:"",NO:"",handleOK:function(){},handleNO:function(){}},t=a["default"].extend(ke);return function(n){for(var a in n)e[a]=n[a];var r=new t({el:document.createElement("div"),data:e,methods:{handleMessageOK:function(){e.handleOK&&e.handleOK(),document.body.removeChild(r.$el)},handleMessageNO:function(){e.handleNO&&e.handleNO(),document.body.removeChild(r.$el)}}});document.body.appendChild(r.$el)}}(),xe=[be],Me=function(e){xe.map((function(t){return e.component(t.name,t)})),e.prototype.$messageBox=Oe};"undefined"!=typeof window&&window.Vue&&Me(window.Vue);var _e={install:Me};a["default"].use(_e),a["default"].use(ue.a),a["default"].config.productionTip=!1,a["default"].use(ce["default"],{preLoad:1.3,error:n("ef03"),loading:n("ef03"),attempt:1}),a["default"].component("Header",G),a["default"].component("BScroll",te),a["default"].component("Loading",ie),a["default"].filter("topath",(function(e,t){var n=/w\.h/;return e.replace(n,t)})),new a["default"]({router:M,store:F,render:function(e){return e(b)}}).$mount("#app")},"5ed5":function(e,t,n){},6183:function(e,t,n){},"832a":function(e,t,n){},"85ec":function(e,t,n){},"8cb1":function(e,t,n){"use strict";n("832a")},a2ec:function(e,t,n){},b00b:function(e,t,n){},ccb7:function(e,t,n){"use strict";n("b00b")},ef03:function(e,t,n){e.exports=n.p+"img/loading.e70fee8c.gif"}});
//# sourceMappingURL=app.899d2249.js.map